# 2.2. Сложные материалы 
В реальной жизни материалы, из которых состоят предметы, очень сложные – они могут отражать, рассеивать, поглощать и пропускать свет в различных сочетаниях и пропорциях. Blender позволяет достаточно гибко имитировать сложные многокомпонентные материалы при помощи опций отражения, преломления и подповерхностного рассеивания, а также возможности задавать несколько текстур на материал. Рассмотрим все это подробнее.
 
Откройте свойства материала и обратите внимание на вкладку Transparency. В Blender, по сути, три вида прозрачности: по маске, по буферу глубины (Z Transparency) и расчет прозрачности трассировкой лучей (Raytrace). Последний режим наиболее приближен к реальности и позволяет контролировать преломление световых лучей, проходящих через объект. 

IOR (index of refraction) – показатель преломления. Он зависит от свойств вещества и длины волны излучения. Вот показатели преломления для некоторых прозрачных веществ: 

- Воздух  - 1.0002926 
- Вода - 1.332986 
- Лед - 1.31 
- Стекло - 1.52 
- Хрусталь - 2.0 
- Алмаз - 2.419 

Важным параметром также является коэффициент Френеля (Fresnel), который описывает соотношение отраженной и преломленной энергии на границе двух сред с разными показателями преломления. Например, если смотреть на воду под большим углом (сверху), то можно увидеть дно. А если смотреть под малым углом (например, с берега озера на горизонт), то дна уже не видно – водная поверхность будет отражать небо. Этот коэффициент можно подобрать экспериметально. 

В Blender можно сочетать преломление как с диффузным рассеиванием, так и с зеркальным отражением. На скриншоте приведен простой пример подобного сочетания с настройками для зеленого стекла. 

Рассмотрим несколько простых, но эффектных приемов, с помощью которых можно сделать стекло поинтереснее. 

Мутное стекло. Лучи света, проходя сквозь поверхность объекта, рассеиваются - вместо полной прозрачности, мы получаем эффект размытия, который можно наблюдать в мутном стекле, промасленной бумаге и других подобных материалах. Для управления степенью размытия прозрачности используется параметр Gloss (значение 0 соответствует максимальному размытию, 1 – отсутствию размытия). Аналогичный параметр есть и для отражения.

Рельефное стекло. Трехмерный объект смотрится гораздо реалистичнее, если его поверхность не гладкая, а рельефная. В компьютерной графике существуют разные способы достижения этого рельефа. Можно, конечно, сделать невероятно детализированную модель с миллионами полигонов. Однако в Blender есть возможность сделать объект рельефным без необходимости увеличивать для этого детализацию модели.

Для рассчета освещенности полигонов используются векторы, перпендикулярные поверхности – так называемые нормали (Normal). В простейшем случае интенсивность освещенности в заданной точке поверхности задается углом между нормалью в этой точке и лучом света. То есть, если направление нормали противоположно лучу света, точка считается максимально освещенной, и наоборот. Нормали обычно задаются для каждой вершины, но при помощи наложения текстуры можно задать нормаль для каждой точки поверхности – эта техника называется Normal Mapping. В Blender очень легко добавить материалу рельефную текстуру – просто создайте любую процедурную текстуру, а затем на вкладке Influence включите параметр Normal, при этом отключив Color (рельефная текстура не должна влиять на цвет материала). На скриншоте приведен пример рельефного стекла с текстурой типа Stucci.

[Назад](lights) ● [К оглавлению](../index) ● [Далее](world) 

